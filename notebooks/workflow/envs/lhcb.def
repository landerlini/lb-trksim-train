Bootstrap: docker
From: python:3.12

%post 
    apt-get update
    apt-get install --yes \
        vim \
        graphviz \
        git \
        build-essential \
        mono-mcs 

    apt-get clean 

    pip install \
        pandas \
        ipykernel \
        matplotlib \
        uproot \
        scikit-learn \
        optuna \
        dask[diagnostics] \
        iminuit \
        pyarrow \
        jupyter \
        nbconvert \
        "keras==3.8" \
        tensorflow[and-cuda] \
        pandoc \
        uproot \
        ipykernel 

    
    # Install cudf
    pip install \
        --extra-index-url=https://pypi.nvidia.com \
        "cudf-cu12==25.6.*" "dask-cudf-cu12==25.6.*" "cuml-cu12==25.6.*" \
        "cugraph-cu12==25.6.*" "nx-cugraph-cu12==25.6.*" "cuxfilter-cu12==25.6.*" \
        "cucim-cu12==25.6.*" "pylibraft-cu12==25.6.*" "raft-dask-cu12==25.6.*" \
        "cuvs-cu12==25.6.*" "nx-cugraph-cu12==25.6.*"


    # Install scikinC
    pip install --upgrade git+https://github.com/landerlini/scikinC.git --no-deps
 
    
